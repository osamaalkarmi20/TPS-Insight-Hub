@using TPS_Insight_Hub.Models.DTO
@model List<UserListDTO>

<h2>Users</h2>
<table id="usersTable" class="display nowrap" style="width:100%">
    <thead>
        <tr>
            <th>User Name</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Position</th>
            <th>Department</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var user in Model)
        {
            <tr>
                <td>@user.UserName</td>
                <td>@user.Email</td>
                <td>@user.PhoneNumber</td>
                <td>@user.PositionName</td>
                <td>@user.DepartmentName</td>
                <td>
                    <a class="nav-link text-dark" asp-area="" asp-controller="User" asp-action="DeleteUser" asp-route-id="@user.Id">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>

@section scripts {
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <style>
        #usersTable_wrapper {
            padding-top: 20px; /* Add padding between the search bar and the table */
        }

        #usersTable {
            border-radius: 15px; /* Make the table more rounded */
            overflow: hidden; /* Ensure the rounded corners are visible */
        }

            #usersTable thead {
                background-color: #007bff;
                color: white;
                border-radius: 15px 15px 0 0; /* Rounded corners for the header */
            }

            #usersTable tbody tr:nth-child(even) {
                background-color: #f2f2f2;
            }

            #usersTable tbody tr:hover {
                background-color: #ddd;
            }

        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 0.3em 1em;
            margin-left: 2px;
            color: white !important;
            background-color: #007bff !important;
            border: 1px solid transparent;
            border-radius: 0.25rem;
        }

        .dataTables_filter {
            padding-bottom: 20px; /* Add padding below the search bar */
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#usersTable').DataTable({
                responsive: true,
                autoWidth: false,
                columnDefs: [
                    { orderable: false, targets: -1 } // Disable sorting on the Actions column
                ],
                language: {
                    paginate: {
                        previous: '<',
                        next: '>'
                    }
                }
            });
        });
    </script>
}
